<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<title>Swipe between maps</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-compare/v0.1.0/mapbox-gl-compare.css' type='text/css' />
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.css' rel='stylesheet' />
<link href='index.css' rel='stylesheet' />
</head>
<body> 
<div id='before' class='map'></div>
<div id='after' class='map'></div>
<div id='legend'>
    <h1>HELLO!</h1>
</div>

<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.js'></script>
<script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-compare/v0.1.0/mapbox-gl-compare.js'></script>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoianVzdGluY29obGVyIiwiYSI6ImNqdmg0NXhyYjBlbGozeWxnZjl0bXJyZDIifQ.xJuUv_hfGodm7RKqtJr0EA';

var beforeMap = new mapboxgl.Map({
container: 'before',
style: 'mapbox://styles/mapbox/light-v10',
zoom: 12,
center: [-87.6, 41.8]
});
 
var afterMap = new mapboxgl.Map({
container: 'after',
style: 'mapbox://styles/mapbox/light-v10',
zoom: 12,
center: [-87.6, 41.8]
});
 
var map = new mapboxgl.Compare(beforeMap, afterMap, {
// Set this to enable comparing two maps by mouse movement:
// mousemove: true
});

beforeMap.on('load', () => { 
 beforeMap.addLayer({
     'id': '2014',
     'type': 'circle',
     'source': {
                 type: 'vector',
                 url: 'mapbox://justincohler.b6zdz1od'
     },
     'source-layer': 'potholes2014-8tdwse',
     'paint': {
         // make circles larger as the user zooms from z12 to z22
        'circle-radius': {
            'base': 1.75,
            'stops': [[12, 2], [22, 180]]
        },
        // color circles by ethnicity, using a match expression
        // https://docs.mapbox.com/mapbox-gl-js/style-spec/#expressions-match
        'circle-color': '#fbb03b'
     }
 });
});

afterMap.on('load', () => {
 afterMap.addLayer({
     'id': '2018',
     'type': 'circle',
     'source': {
                 type: 'vector',
                 url: 'mapbox://justincohler.0rcj8ox1'
     },
     'source-layer': 'potholes2018-1wy2t2',
     'paint': {
         // make circles larger as the user zooms from z12 to z22
         'circle-radius': {
         'base': 1.75,
         'stops': [[12, 2], [22, 180]]
     },
     // color circles by ethnicity, using a match expression
     // https://docs.mapbox.com/mapbox-gl-js/style-spec/#expressions-match
     'circle-color': '#0fbb30' 
     }
 });
});
</script>
 
</body>
</html>